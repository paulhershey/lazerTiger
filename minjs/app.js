"use strict";!function(d,c,n){function l(n){var i=new c.IntersectionObserver(function(n,a){d(n).each(function(n,t){if(t.isIntersecting){switch(t.target.tagName.toLowerCase()){case"video":var i=d(t.target).data("src");1024<d(c).width()&&(d(t.target).append("<source type='video/mp4' src='"+i+".mp4.mp4'>"),d(t.target).append("<source type='video/webm' src='"+i+".webmhd.webm'>"),d(t.target).append("<source type='video/ogg' src='"+i+".oggtheora.ogv'>"));break;case"picture":d(t.target).children().each(function(n,t){switch(t.tagName.toLowerCase()){case"source":d(t).attr("srcset",d(t).data("srcset"));break;case"img":d(t).attr("src",d(t).data("src"))}});break;case"iframe":case"img":d(t.target).attr("src",d(t.target).data("src"))}a.unobserve(t.target)}})},{rootMargin:"100%",threshold:0});d(n).each(function(n,t){i.observe(t)})}function i(n){d.ajax({type:n.attr("method"),url:n.attr("action"),data:n.serialize(),dataType:"jsonp",cache:!1,error:function(n){d(".cd-response-error").addClass("is-visible")},success:function(n){"success"===n.result?(console.log(n.msg),d(".cd-response-success").addClass("slide-in")):(console.log(n.msg),d(".cd-response-notification").addClass("is-visible"))}})}d(function(){var e,t;d("[data-scroll]").on("click",function(n){if(""!==this.hash){n.preventDefault();var t=this.getAttribute("href");return d("html, body").animate({scrollTop:d(t).offset().top},1e3),!1}}),e=d('div[data-type="message"]'),t=d("#mc-embedded-subscribe-form"),d(".cd-form .cd-email").keyup(function(n){13!=n.which&&(e.removeClass("slide-in is-visible"),d(".cd-form").removeClass("is-submitted").find(".cd-loading").off("webkitTransitionEnd otransitionend oTransitionEnd msTransitionEnd transitionend"));var t=d(this).val(),i=t.indexOf("@"),a=t.lastIndexOf(".");i<1||a<i+2?d(".cd-form").removeClass("is-active").find(".cd-loading").off("webkitTransitionEnd otransitionend oTransitionEnd msTransitionEnd transitionend"):d(".cd-form").addClass("is-active")}),d(".cd-form .cd-email").on("focus",function(){e.removeClass("slide-in is-visible"),d(".cd-form").removeClass("is-submitted").find(".cd-loading").off("webkitTransitionEnd otransitionend oTransitionEnd msTransitionEnd transitionend")}),d(".cd-submit").on("click",function(n){d(".cd-form").hasClass("is-active")&&(n.preventDefault(),d(".cd-form").addClass("is-submitted").find(".cd-loading").one("webkitTransitionEnd otransitionend oTransitionEnd msTransitionEnd transitionend",function(){i(t)}),d("html").hasClass("no-csstransitions")&&i(t))}),Modernizr.input.placeholder||(d("[placeholder]").focus(function(){var n=d(this);n.val()==n.attr("placeholder")&&n.val("")}).blur(function(){var n=d(this);""!=n.val()&&n.val()!=n.attr("placeholder")||n.val(n.attr("placeholder"))}).blur(),d("[placeholder]").parents("form").submit(function(){d(this).find("[placeholder]").each(function(){var n=d(this);n.val()==n.attr("placeholder")&&n.val("")})})),l(".lazyLoad"),function(){var e=!1,i="",a=!1;function o(n,t){e=!0,d("body").addClass("page-is-changing"),d(".loading-bar").one("webkitTransitionEnd otransitionend oTransitionEnd msTransitionEnd transitionend",function(){s(n,t),i=n,d(".loading-bar").off("webkitTransitionEnd otransitionend oTransitionEnd msTransitionEnd transitionend")}),r()||(s(n,t),i=n)}function s(i,n){var t=(i=""==i?"index.html":i).replace(".html",""),a=d('<div class="main-content '+t+'"></div>');a.load(i+" .main-content > *",function(n){d(".main").html(a),d("html, body").scrollTop(0,0);var t=r()?1200:0;l(".lazyLoad"),setTimeout(function(){d("body").removeClass("page-is-changing"),d(".loading-bar").one("webkitTransitionEnd otransitionend oTransitionEnd msTransitionEnd transitionend",function(){e=!1,d(".loading-bar").off("webkitTransitionEnd otransitionend oTransitionEnd msTransitionEnd transitionend")}),i!=c.location&&c.history.pushState({path:i},"",i),r()||(e=!1)},t)})}function r(){return d("html").hasClass("csstransitions")}d(".main").on("click",'[data-type="page-transition"]',function(n){n.preventDefault();var t=d(this).attr("href");console.log(t),e||o(t,!0),a=!0}),d(c).on("popstate",function(){if(a){var n=location.pathname.split("/"),t=n[n.length-1];e||i==t||o(t,!1)}a=!0})}(),d("[href='#']").click(function(){return!1}),d(".btn").on("mouseenter",function(n){var t=d(this).offset(),i=n.pageX-t.left,a=n.pageY-t.top;d(this).find("span").css({top:a,left:i})}).on("mouseout",function(n){var t=d(this).offset(),i=n.pageX-t.left,a=n.pageY-t.top;d(this).find("span").css({top:a,left:i})})})}(window.jQuery,window,document);